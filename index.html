<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css" />
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <title>- / -</title>
  </head>
  <body>
    <div class="div_area">
      <h2 class="badge">
        타이머 :
        <input class="micro" id="timer" value="15" />
        초 간격
      </h2>
      <span>다음 갱신까지... <span id="remain_times"></span>초</span>
    </div>

    <div class="div_area">
      <h2 class="badge">김치 프리미엄 계산기</h2>
      <div>
        <table class="premium-table">
          <thead>
            <tr>
              <th></th>
              <th>BitBank</th>
              <th>UpBit</th>
              <th>Premium</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>XRP</td>
              <td><span id="bb_xrp"> - </span></td>
              <td><span id="upbit_xrp"> - </span></td>
              <td class="premium"><span id="premium_xrp"> - </span></td>
            </tr>
            <tr>
              <td>Solana</td>
              <td><span id="bb_solana"> - </span></td>
              <td><span id="upbit_solana"> - </span></td>
              <td class="premium"><span id="premium_solana"> - </span></td>
            </tr>
            <tr>
              <td>BTC</td>
              <td><span id="bb_btc"> - </span></td>
              <td><span id="upbit_btc"> - </span></td>
              <td class="premium"><span id="premium_btc"> - </span></td>
            </tr>
          </tbody>
        </table>
        <div class="latest-refresh-datetime">
          <span
            >최종 갱신 시간:
            <span id="latest_refresh_datetime">----/--/-- --:--:--</span></span
          >
        </div>
      </div>
      <button class="screenshot-button" onclick="copyToClipboard(this)">
        스샷찍기
      </button>
    </div>
    <div class="div_area">
      <h2 class="badge">수익 계산기</h2>
      <div
        style="
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 10px;
        "
      >
        <div
          style="
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            row-gap: 5px;
          "
        >
          <label>
            쓴 돈:
            <input
              id="spent_money"
              value=""
              placeholder="엔"
              class="short"
              style="width: 100px"
            />
            엔
          </label>
          <label>
            번 돈:
            <input
              id="earned_money"
              value=""
              placeholder="원"
              class="short"
              style="width: 100px"
            />
            원
          </label>
        </div>
        <button onclick="calculateProfit()">계산</button>
      </div>
      <div>
        먹은퍼센트: <span id="profit_percentage"> - </span>% (약
        <span id="profit_yen"> - </span>엔)
        <br />
        예상 최종 먹는퍼센트: 약 <span id="final_profit_percentage"> - </span>%
        (약 <span id="final_profit_yen"> - </span>엔)
      </div>
      <div>(송금수수료 위 퍼센트에서 대략 -1.5%정도 한 값)</div>
      <button class="screenshot-button" onclick="copyToClipboard(this)">
        스샷찍기
      </button>
    </div>

    <!-- Iframe Section -->
    <div id="div_iframe" class="div_area">
      <h2 class="badge">환율관련</h2>
      <!-- Exchange Rate Section -->
      <div>
        <input id="rate_manual" value="" class="middle" />
        <!-- <button id="capture" class="capture" onclick="startCapture()">
          캡쳐
        </button> -->
        <button onclick="refresh_iframe()">수동갱신</button>
      </div>
      <div>
        <input type="number" class="mini" id="rate_auto" value="0" />
        <span>초</span>
        <button id="auto_refresh_button" onclick="refresh_iframe_auto()">
          자동갱신 설정
        </button>
      </div>
      <div>
        <iframe
          id="iframe"
          src=""
          style="width: 100%; height: 400px"
          loading="lazy"
        ></iframe>
      </div>
    </div>
    <div id="alert-modal" class="alert-modal">
      <span id="alert-message"></span>
      <button id="close-alert" onclick="closeAlert()">닫기</button>
    </div>
    <script src="index.js"></script>
  </body>
</html>
